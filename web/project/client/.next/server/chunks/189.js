exports.id=189,exports.ids=[189],exports.modules={9580:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,2583,23)),Promise.resolve().then(a.t.bind(a,6840,23)),Promise.resolve().then(a.t.bind(a,8771,23)),Promise.resolve().then(a.t.bind(a,3225,23)),Promise.resolve().then(a.t.bind(a,9295,23)),Promise.resolve().then(a.t.bind(a,3982,23))},7554:(e,t,a)=>{Promise.resolve().then(a.bind(a,8251)),Promise.resolve().then(a.bind(a,8165)),Promise.resolve().then(a.bind(a,222)),Promise.resolve().then(a.bind(a,9051)),Promise.resolve().then(a.bind(a,5789)),Promise.resolve().then(a.bind(a,2512))},4965:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r="http://localhost:3001/"},8251:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var r=a(5344),n=a(3729),s=a.n(n),i=a(6292);async function o(){if(null!=window.ethereum)return new i.Q(window.ethereum);console.log("Metmask is not installed, using read only defaults.")}function l(){return s().useEffect(()=>{o().then(async e=>{void 0!==e&&(window.provider=e)})}),r.jsx("div",{id:"connectWalletInBackground"})}},8165:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var r=a(5344),n=a(3729),s=a(615),i=a(4965);async function o(e,t,a,r,n,s){let o=new FormData;o.append("roomTitle",e),o.append("physicalAddress",t),o.append("image",a),o.append("price",r.toString()),o.append("canReserve",n.toString()),o.append("roomOwner",s);let l=await fetch(i.Z+"contract/addRoom",{method:"POST",body:o}),d=await l.json();return console.log(d.result),0==d.result}async function l(e){let t=URL.createObjectURL(e),a=await (await fetch(t)).arrayBuffer(),r="",n=new Uint8Array(a),s=n.byteLength;for(let e=0;e<s;e++)r+=String.fromCharCode(n[e]);return window.btoa(r)}function d(){let e=(0,n.useRef)(null);return r.jsx(s.Z,{title:"Add a room",body:(0,r.jsxs)("div",{ref:e,children:[(0,r.jsxs)("div",{className:"mb-3",children:[r.jsx("label",{htmlFor:"roomTitle",className:"form-label",children:"Room title"}),r.jsx("input",{type:"text",required:!0,className:"form-control",id:"roomTitle",name:"roomTitle","aria-describedby":"roomHelp"}),r.jsx("div",{id:"roomHelp",className:"form-text",children:"What special title do you want for your room?"})]}),(0,r.jsxs)("div",{className:"mb-3",children:[r.jsx("label",{htmlFor:"physicalAddress",className:"form-label",children:"Physical Address"}),r.jsx("input",{type:"text",required:!0,className:"form-control",id:"physicalAddress",name:"physicalAddress","aria-describedby":"physicalAddressHelp"}),r.jsx("div",{id:"physicalAddressHelp",className:"form-text",children:"What is your rooms physical address?"})]}),(0,r.jsxs)("div",{className:"mb-3",children:[r.jsx("label",{htmlFor:"image",className:"form-label",children:"Image"}),r.jsx("input",{type:"file",required:!0,className:"form-control",id:"image",name:"image","aria-describedby":"imageHelp",onChange:async t=>{let a=e.current.querySelector("#preview");null===t.target.files?a.src="":a.src="data:image/png;base64, "+await l(t.target.files[0])}}),r.jsx("div",{id:"imageHelp",className:"form-text",children:"Images must be a URL, otherwise the Smart Contract becomes too expensive."}),r.jsx("img",{id:"preview",width:200,height:200})]}),(0,r.jsxs)("div",{className:"mb-3",children:[r.jsx("label",{htmlFor:"price",className:"form-label",children:"Price in Wei"}),r.jsx("input",{type:"number",required:!0,className:"form-control",id:"price",name:"price","aria-describedby":"priceHelp"}),r.jsx("div",{id:"priceHelp",className:"form-text",children:"What is the price for your room? Values must be in Wei!"})]}),(0,r.jsxs)("div",{className:"mb-3 form-check",children:[r.jsx("input",{type:"checkbox",required:!0,className:"form-check-input",id:"canReserve"}),r.jsx("label",{className:"form-check-label",htmlFor:"canReserve",children:"Can the room be reserved currently?"})]})]}),modalId:"addRoomModal",onPos:async()=>{if(void 0===window.provider){alert("No Wallet provider avaialable.");return}let t={roomTitle:e.current.querySelector("#roomTitle"),physicalAddress:e.current.querySelector("#physicalAddress"),image:e.current.querySelector("#image").files[0],price:e.current.querySelector("#price"),canReserve:e.current.querySelector("#canReserve")},a=await window.provider.getSigner(),r=await o(t.roomTitle.value,t.physicalAddress.value,t.image,Number(t.price.value),t.canReserve.checked,await a.getAddress());if(console.log(r),!r){alert("Failed to add room. Please try again.");return}t.roomTitle.value="",t.physicalAddress.value="",t.price.values="",alert("Successfully added room. Please check the Rooms tab.")},posButtonTitle:"Add"})}},615:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var r=a(5344);a(3729);let n=({title:e,body:t,onPos:a,modalId:n,posButtonTitle:s})=>r.jsx("div",{id:n,className:"modal",tabIndex:-1,children:r.jsx("div",{className:"modal-dialog",children:(0,r.jsxs)("div",{className:"modal-content",children:[(0,r.jsxs)("div",{className:"modal-header",children:[r.jsx("h5",{className:"modal-title",children:e}),r.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),r.jsx("div",{className:"modal-body",children:t}),(0,r.jsxs)("div",{className:"modal-footer",children:[r.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),r.jsx("button",{type:"button",className:"btn btn-primary",onClick:a,children:null!==s?s:"Save Changes"})]})]})})})},222:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var r=a(5344),n=a(3729),s=a(615),i=a(4965);async function o(e,t,a){let r=await fetch(i.Z+"contract/updateStatus",{method:"POST",body:JSON.stringify({roomId:e,canReserve:t,from:a}),headers:{"content-type":"application/json"}}),n=await r.json();return console.log(n),0==n.result}function l(){let e=(0,n.useRef)(null);return r.jsx(s.Z,{title:"Change Room Status",body:(0,r.jsxs)("div",{ref:e,children:[(0,r.jsxs)("div",{className:"mb-3",children:[r.jsx("label",{htmlFor:"roomId",className:"form-label",children:"Room ID"}),r.jsx("input",{type:"number",className:"form-control",id:"roomId",name:"roomId","aria-describedby":"roomIdHelp"}),r.jsx("div",{id:"roomId",className:"form-text",children:"The rooms ID"})]}),(0,r.jsxs)("div",{className:"mb-3 form-check",children:[r.jsx("input",{type:"checkbox",className:"form-check-input",id:"canReserve"}),r.jsx("label",{className:"form-check-label",htmlFor:"canReserve",children:"Can the room be reserved currently?"})]})]}),modalId:"changeRoomStatusModal",posButtonTitle:"Change",onPos:async()=>{if(void 0===window.provider){alert("No Wallet provider avaialable");return}let t={roomId:e.current.querySelector("#roomId"),canReserve:e.current.querySelector("#canReserve")},a=await window.provider.getSigner();if(!await o(Number(t.roomId.value),t.canReserve.checked,await a.getAddress())){alert("Error while changing room reservation status");return}alert("Room reservation status changed. Check rooms tab"),t.roomId.value=""}})}},9051:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var r=a(5344),n=a(3729),s=a(615),i=a(4965);async function o(e,t,a){let r=await fetch(i.Z+"contract/deleteReservation",{method:"POST",body:JSON.stringify({roomId:e,reservationId:t,deleter:a}),headers:{"content-type":"application/json"}}),n=await r.json();return console.log(n),0==n.result}function l(){let e=(0,n.useRef)(null);return r.jsx(s.Z,{title:"Delete a Reservation",body:(0,r.jsxs)("div",{ref:e,children:[(0,r.jsxs)("div",{className:"mb-3",children:[r.jsx("label",{htmlFor:"roomId",className:"form-label",children:"Room ID"}),r.jsx("input",{type:"number",className:"form-control",id:"roomId",name:"roomId","aria-describedby":"roomIdHelp"}),r.jsx("div",{id:"roomId",className:"form-text",children:"The rooms ID"})]}),(0,r.jsxs)("div",{className:"mb-3",children:[r.jsx("label",{htmlFor:"reservationId",className:"form-label",children:"Reservation ID"}),r.jsx("input",{type:"number",className:"form-control",id:"reservationId",name:"reservationId","aria-describedby":"reservationIdHelp"}),r.jsx("div",{id:"reservationIdHelp",className:"form-text",children:"The reservations ID"})]})]}),modalId:"deleteReservationModal",posButtonTitle:"Delete",onPos:async()=>{if(void 0===window.provider){alert("No Wallet provider avaialable");return}let t={roomId:e.current.querySelector("#roomId"),reservationId:e.current.querySelector("#reservationId")},a=await window.provider.getSigner();if(!await o(Number(t.roomId.value),Number(t.reservationId.value),await a.getAddress())){alert("Error deleting reservation.");return}alert("Reservation has been deleted. Check reservations"),t.roomId.value="",t.reservationId.value=""}})}},5789:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var r=a(5344),n=a(3729),s=a(615);let i=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"stateMutability":"payable","type":"fallback"},{"inputs":[{"internalType":"string","name":"_title","type":"string"},{"internalType":"string","name":"_physicalAddress","type":"string"},{"internalType":"string","name":"_image","type":"string"},{"internalType":"uint256","name":"_price","type":"uint256"},{"internalType":"bool","name":"_canReserve","type":"bool"},{"internalType":"address","name":"roomOwner","type":"address"}],"name":"addRoom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"roomId","type":"uint256"},{"internalType":"uint256","name":"reservationId","type":"uint256"},{"internalType":"address","name":"deleter","type":"address"}],"name":"deleteReservation","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getPayments","outputs":[{"components":[{"internalType":"address","name":"payer","type":"address"},{"internalType":"address","name":"payee","type":"address"},{"internalType":"uint256","name":"datePaid","type":"uint256"},{"internalType":"uint256","name":"reservationId","type":"uint256"}],"internalType":"struct RoomReservations.Payment[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getPaymentsLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getReservations","outputs":[{"components":[{"internalType":"address","name":"reserver","type":"address"},{"internalType":"uint256","name":"roomId","type":"uint256"},{"internalType":"uint256","name":"startDate","type":"uint256"},{"internalType":"uint256","name":"endDate","type":"uint256"},{"internalType":"bool","name":"isPaid","type":"bool"}],"internalType":"struct RoomReservations.Reservation[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"roomId","type":"uint256"}],"name":"getReservationsFor","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"roomId","type":"uint256"}],"name":"getReservationsForLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getReservationsLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getRooms","outputs":[{"components":[{"internalType":"string","name":"title","type":"string"},{"internalType":"string","name":"physicalAddress","type":"string"},{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"string","name":"image","type":"string"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"address","name":"owner","type":"address"},{"internalType":"bool","name":"canReserve","type":"bool"}],"internalType":"struct RoomReservations.Room[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getRoomsLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"reservationId","type":"uint256"}],"name":"makePayment","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"roomId","type":"uint256"},{"internalType":"uint256","name":"startDate","type":"uint256"},{"internalType":"uint256","name":"endDate","type":"uint256"},{"internalType":"bool","name":"checkReserved","type":"bool"},{"internalType":"address","name":"reserver","type":"address"}],"name":"makeReservation","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"payments","outputs":[{"internalType":"address","name":"payer","type":"address"},{"internalType":"address","name":"payee","type":"address"},{"internalType":"uint256","name":"datePaid","type":"uint256"},{"internalType":"uint256","name":"reservationId","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"reservations","outputs":[{"internalType":"address","name":"reserver","type":"address"},{"internalType":"uint256","name":"roomId","type":"uint256"},{"internalType":"uint256","name":"startDate","type":"uint256"},{"internalType":"uint256","name":"endDate","type":"uint256"},{"internalType":"bool","name":"isPaid","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"reservationsFor","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"rooms","outputs":[{"internalType":"string","name":"title","type":"string"},{"internalType":"string","name":"physicalAddress","type":"string"},{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"string","name":"image","type":"string"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"address","name":"owner","type":"address"},{"internalType":"bool","name":"canReserve","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"roomId","type":"uint256"},{"internalType":"bool","name":"status","type":"bool"},{"internalType":"address","name":"from","type":"address"}],"name":"updateRoomReservationStatus","outputs":[],"stateMutability":"nonpayable","type":"function"},{"stateMutability":"payable","type":"receive"}]');var o=a(7813);function l(){let e=(0,n.useRef)(null);return r.jsx(s.Z,{title:"Make Payment",body:r.jsx("div",{ref:e,children:(0,r.jsxs)("div",{className:"mb-3",children:[r.jsx("label",{htmlFor:"reservationId",className:"form-label",children:"Reservation ID"}),r.jsx("input",{type:"number",className:"form-control",id:"reservationId",name:"reservationId","aria-describedby":"reservationIdHelp"}),r.jsx("div",{id:"reservationIdHelp",className:"form-text",children:"The reservations ID"})]})}),modalId:"makePaymentModal",posButtonTitle:"Pay",onPos:async()=>{if(void 0===window.provider){alert("No Wallet provider avaialable");return}let t={reservationId:e.current.querySelector("#reservationId")},a=function(e){let t=new o.CH("0x426D808652D3B6D958813d5F158e67157995a84e",i,e);return window.contract=t,t}(await window.provider.getSigner()),r=await a.reservations(Number(t.reservationId.value)),n=(await a.rooms(r[1]))[4];a.makePayment(Number(t.reservationId.value),{value:n}).then(async e=>{await e.wait(),alert("Payment has been made for reservation: #"+t.reservationId.value),console.log(await a.payments(await a.getPaymentsLength()-1)),t.reservationId.value=""}).catch(e=>{alert(e)})}})}},2512:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var r=a(5344),n=a(3729),s=a(615),i=a(4965);async function o(e,t,a,r){let n=JSON.stringify({roomId:e,startDate:t,endDate:a,reserver:r});console.log(n);let s=await fetch(i.Z+"contract/makeReservation",{method:"POST",body:n,headers:{"content-type":"application/json"}}),o=await s.json();return console.log(o),0==o.result}function l(){let e=(0,n.useRef)(null);return r.jsx(s.Z,{title:"Make a Reservation",body:(0,r.jsxs)("div",{ref:e,children:[(0,r.jsxs)("div",{className:"mb-3",children:[r.jsx("label",{htmlFor:"roomId",className:"form-label",children:"Room ID"}),r.jsx("input",{type:"number",className:"form-control",id:"roomId",name:"roomId","aria-describedby":"roomIdHelp"}),r.jsx("div",{id:"roomId",className:"form-text",children:"The rooms ID"})]}),(0,r.jsxs)("div",{className:"mb-3",children:[r.jsx("label",{htmlFor:"startDate",className:"form-label",children:"Start Date"}),r.jsx("input",{type:"date",className:"form-control",id:"startDate",name:"startDate","aria-describedby":"startDateHelp"}),r.jsx("div",{id:"startDateHelp",className:"form-text",children:"What is the start date for your reservation?"})]}),(0,r.jsxs)("div",{className:"mb-3",children:[r.jsx("label",{htmlFor:"endDate",className:"form-label",children:"End Date"}),r.jsx("input",{type:"date",className:"form-control",id:"endDate",name:"endDate","aria-describedby":"endDateHelp"}),r.jsx("div",{id:"endDateHelp",className:"form-text",children:"What is the end date for your reservation?"})]})]}),modalId:"makeReservationModal",posButtonTitle:"Reserve",onPos:async()=>{if(void 0===window.provider){alert("No Wallet provider avaialable");return}let t={roomId:e.current.querySelector("#roomId"),startDate:e.current.querySelector("#startDate"),endDate:e.current.querySelector("#endDate")},a=await window.provider.getSigner();if(!await o(Number(t.roomId.value),new Date(t.startDate.value).getTime()/1e3,new Date(t.endDate.value).getTime()/1e3,await a.getAddress())){alert("Reservation failed");return}alert("Reservation has been made. Check Reservations tab."),t.roomId.value="",t.startDate.value="",t.endDate.value=""}})}},7828:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>F,metadata:()=>k});var r=a(5036),n=a(2195),s=a.n(n);a(5023);var i=a(6843);let o=(0,i.createProxy)(String.raw`/Users/jordancastro/Documents/Freelancer/RoomReservationsSC/web/project/client/src/modals/addRoom.tsx`),{__esModule:l,$$typeof:d}=o,m=o.default,c=(0,i.createProxy)(String.raw`/Users/jordancastro/Documents/Freelancer/RoomReservationsSC/web/project/client/src/background/use_wallet.tsx`),{__esModule:u,$$typeof:p}=c,y=c.default,v=(0,i.createProxy)(String.raw`/Users/jordancastro/Documents/Freelancer/RoomReservationsSC/web/project/client/src/modals/makeReservation.tsx`),{__esModule:b,$$typeof:h}=v,f=v.default,x=(0,i.createProxy)(String.raw`/Users/jordancastro/Documents/Freelancer/RoomReservationsSC/web/project/client/src/modals/makePayment.tsx`),{__esModule:j,$$typeof:g}=x,w=x.default,T=(0,i.createProxy)(String.raw`/Users/jordancastro/Documents/Freelancer/RoomReservationsSC/web/project/client/src/modals/deleteReservation.tsx`),{__esModule:R,$$typeof:N}=T,I=T.default,S=(0,i.createProxy)(String.raw`/Users/jordancastro/Documents/Freelancer/RoomReservationsSC/web/project/client/src/modals/changeRoomStatus.tsx`),{__esModule:D,$$typeof:P}=S,M=S.default,k={title:"RoomReservations",description:"A Polygon Solidity smart contract dapp for room reservations"};function F({children:e}){return(0,r.jsxs)("html",{lang:"en",children:[r.jsx("head",{children:r.jsx("link",{href:"https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css",rel:"stylesheet",integrity:"sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH",crossOrigin:"anonymous"})}),(0,r.jsxs)("body",{className:s().className,style:{backgroundColor:"#000000"},children:[e,r.jsx("script",{src:"https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js",integrity:"sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz",crossOrigin:"anonymous"}),r.jsx("script",{src:"https://code.jquery.com/jquery-3.7.1.min.js",integrity:"sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=",crossOrigin:"anonymous"}),r.jsx("script",{src:"/table.js"}),r.jsx(m,{}),r.jsx(f,{}),r.jsx(w,{}),r.jsx(I,{}),r.jsx(M,{}),r.jsx(y,{})]})]})}},5023:()=>{}};